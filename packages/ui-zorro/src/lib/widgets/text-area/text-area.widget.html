<ng-template let-control="control" let-schema="schema" let-model="model" [fluentContextGuard]="contextGuard">
  @if (ControlWrapperDirective | inject: { optional: true }) {
    @if (!(schema.hidden | reactive: model : schema : control)) {
      <textarea
        fluentCol
        nz-input
        [attr.id]="schema.id"
        [attr.name]="schema.key"
        [attr.maxlength]="helper.length.max | invoke: schema.length"
        [attr.minlength]="helper.length.min | invoke: schema.length"
        [fluentBindingSchema]="schema"
        [fluentBindingControl]="control"
        [fluentBindingModel]="model"
        [formControl]="control"
        [class]="schema.class"
        [style]="schema.style"
        [span]="schema.col | col: 'span'"
        [flex]="schema.col | col: 'flex'"
        [offset]="schema.col | col: 'offset'"
        [nzAutosize]="schema.autosize ?? {}"
        [placeholder]="(schema.placeholder | reactive: model : schema : control) ?? ''"
        [rows]="schema.rows"
        [autofocus]="schema.autofocus"
        [readonly]="schema.readonly | reactive: model : schema : control"
        [nzSize]="schema.size!"
        [nzBorderless]="schema.borderless"></textarea>
    }
  } @else {
    <textarea
      nz-input
      [attr.id]="schema.id"
      [attr.name]="schema.key"
      [attr.maxlength]="helper.length.max | invoke: schema.length"
      [attr.minlength]="helper.length.min | invoke: schema.length"
      [fluentBindingSchema]="schema"
      [fluentBindingControl]="control"
      [fluentBindingModel]="model"
      [formControl]="control"
      [class]="schema.class"
      [style]="schema.style"
      [nzAutosize]="schema.autosize ?? {}"
      [placeholder]="(schema.placeholder | reactive: model : schema : control) ?? ''"
      [rows]="schema.rows"
      [autofocus]="schema.autofocus"
      [readonly]="schema.readonly | reactive: model : schema : control"
      [nzSize]="schema.size!"
      [nzBorderless]="schema.borderless"></textarea>
  }
</ng-template>
